"0",""
"0","#Income ~ Animal taxa"
"0","ps<- NCWW_2021_animal_clr"
"0",""
"0","X <- data.frame(ps@otu_table)"
"0","colnames(X) <- data.frame(ps@tax_table)$CommonName"
"0","X <- as.matrix(X)"
"0",""
"0","Y <- ps@sam_data$Per_capita_income_k"
"0","Y <- as.numeric(Y)"
"0",""
"0","#change all columns in X into number format"
"0","X <- apply(X, 2, as.numeric)"
"0",""
"0","NCWW_Income <- list(X, Y)"
"0",""
"0","# Fit the PLS model"
"0","pls_model <- plsr(Y ~ X, ncomp = 10, data = NCWW_Income, validation = ""CV"")"
"0",""
"0","# Examine the model summary"
"0","summary(pls_model)"
"1","Data: 	X dimension:"
"1"," "
"1","39"
"1"," "
"1","71"
"1"," "
"1","
	Y dimension:"
"1"," "
"1","39"
"1"," "
"1","1"
"1","
Fit method:"
"1"," "
"1","kernelpls"
"1","
Number of components considered:"
"1"," "
"1","10"
"1","

VALIDATION: RMSEP"
"1","
Cross-validated using"
"1"," "
"1","10"
"1"," "
"1","random"
"1"," "
"1","segments.
"
"1","     "
"1","  (Intercept)"
"1","  1 comps"
"1","  2 comps"
"1","  3 comps"
"1","  4 comps"
"1","  5 comps"
"1","  6 comps"
"1","  7 comps"
"1","  8 comps"
"1","  9 comps"
"1","  10 comps"
"1","
CV   "
"1","        8.097"
"1","    7.208"
"1","    7.641"
"1","    7.877"
"1","    8.429"
"1","    8.972"
"1","   10.020"
"1","    10.85"
"1","    11.41"
"1","    11.79"
"1","     12.03"
"1","
adjCV"
"1","        8.097"
"1","    7.164"
"1","    7.497"
"1","    7.641"
"1","    8.164"
"1","    8.647"
"1","    9.603"
"1","    10.35"
"1","    10.86"
"1","    11.21"
"1","     11.43"
"1","
"
"1","
TRAINING: % variance explained
"
"1"," "
"1","  1 comps"
"1","  2 comps"
"1","  3 comps"
"1","  4 comps"
"1","  5 comps"
"1","  6 comps"
"1","  7 comps"
"1","  8 comps"
"1","  9 comps"
"1","  10 comps"
"1","
X"
"1","    13.07"
"1","    20.54"
"1","    25.83"
"1","    31.96"
"1","    38.71"
"1","    43.56"
"1","    47.16"
"1","    52.24"
"1","    56.59"
"1","     60.36"
"1","
Y"
"1","    41.83"
"1","    59.17"
"1","    72.13"
"1","    78.54"
"1","    83.49"
"1","    87.49"
"1","    91.67"
"1","    93.94"
"1","    95.61"
"1","     96.72"
"1","
"
"0","# Cross-validation plot to determine the optimal number of components"
"0","plot(RMSEP(pls_model), legendpos = ""topright"")"
