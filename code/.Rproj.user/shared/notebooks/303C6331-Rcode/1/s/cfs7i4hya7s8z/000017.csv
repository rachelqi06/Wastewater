"0","#Income ~ Plant taxa"
"0","ps<- NCWW_2021_plant_clr"
"0",""
"0","X <- data.frame(ps@otu_table)"
"0","colnames(X) <- data.frame(ps@tax_table)$CommonName"
"0","X <- as.matrix(X)"
"0",""
"0","Y <- ps@sam_data$Per_capita_income_k"
"0","Y <- as.numeric(Y)"
"0",""
"0","#change all columns in X into number format"
"0","X <- apply(X, 2, as.numeric)"
"0",""
"0","NCWW_Income <- list(X, Y)"
"0",""
"0","# Fit the PLS model"
"0","pls_model <- plsr(Y ~ X, ncomp = 10, data = NCWW_Income, validation = ""CV"")"
"0",""
"0","# Examine the model summary"
"0","summary(pls_model)"
"1","Data: 	X dimension:"
"1"," "
"1","39"
"1"," "
"1","136"
"1"," "
"1","
	Y dimension:"
"1"," "
"1","39"
"1"," "
"1","1"
"1","
Fit method:"
"1"," "
"1","kernelpls"
"1","
Number of components considered:"
"1"," "
"1","10"
"1","

VALIDATION: RMSEP"
"1","
Cross-validated using"
"1"," "
"1","10"
"1"," "
"1","random"
"1"," "
"1","segments.
"
"1","     "
"1","  (Intercept)"
"1","  1 comps"
"1","  2 comps"
"1","  3 comps"
"1","  4 comps"
"1","  5 comps"
"1","  6 comps"
"1","  7 comps"
"1","  8 comps"
"1","  9 comps"
"1","  10 comps"
"1","
CV   "
"1","        8.097"
"1","    4.860"
"1","    4.449"
"1","    4.410"
"1","    4.604"
"1","    4.661"
"1","    4.724"
"1","    4.707"
"1","    4.725"
"1","    4.733"
"1","     4.740"
"1","
adjCV"
"1","        8.097"
"1","    4.766"
"1","    4.325"
"1","    4.237"
"1","    4.397"
"1","    4.431"
"1","    4.484"
"1","    4.465"
"1","    4.480"
"1","    4.487"
"1","     4.493"
"1","
"
"1","
TRAINING: % variance explained
"
"1"," "
"1","  1 comps"
"1","  2 comps"
"1","  3 comps"
"1","  4 comps"
"1","  5 comps"
"1","  6 comps"
"1","  7 comps"
"1","  8 comps"
"1","  9 comps"
"1","  10 comps"
"1","
X"
"1","    9.186"
"1","    16.12"
"1","    20.90"
"1","    25.26"
"1","    30.48"
"1","    34.22"
"1","    37.03"
"1","    39.32"
"1","    42.95"
"1","     45.79"
"1","
Y"
"1","   82.741"
"1","    92.21"
"1","    96.67"
"1","    98.61"
"1","    99.49"
"1","    99.78"
"1","    99.92"
"1","    99.98"
"1","    99.99"
"1","    100.00"
"1","
"
"0","# Cross-validation plot to determine the optimal number of components"
"0","plot(RMSEP(pls_model), legendpos = ""topright"")"
